<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>oauth2.0 on 奇风岁月</title><link>https://travisbikkle.github.io/zh-hant/oauth2.0/</link><description>Recent content in oauth2.0 on 奇风岁月</description><generator>Hugo -- gohugo.io</generator><language>zh-hant</language><copyright>Copyright © 2022-{year} Travis Bikkle. All Rights Reserved.</copyright><lastBuildDate>Fri, 19 Jul 2024 10:20:30 +0800</lastBuildDate><atom:link href="https://travisbikkle.github.io/zh-hant/oauth2.0/index.xml" rel="self" type="application/rss+xml"/><item><title>Oauth2 限制登錄一個客戶端</title><link>https://travisbikkle.github.io/zh-hant/2024/07/oauth2-single-login/</link><pubDate>Fri, 19 Jul 2024 10:20:30 +0800</pubDate><guid>https://travisbikkle.github.io/zh-hant/2024/07/oauth2-single-login/</guid><description>有時候我們希望用戶只能在一臺設備登錄賬號（我們太吝嗇了）。
使用 springboot oauth2 怎麼實現呢？
注意本文不會帶你使用 spring security 實現 oauth2 登錄，僅僅是討論我們那個吝嗇的需求。
假設我們有這樣一個自定義的認證實現類：
1public class RedisOAuth2AuthorizationService implements OAuth2AuthorizationService { 2 3	private final static Long TIMEOUT = 10L; 4 5	private static final String AUTHORIZATION = &amp;#34;token&amp;#34;; 6 7	private final RedisTemplate&amp;lt;String, Object&amp;gt; redisTemplate; 8 9	@Override 10	public void save(OAuth2Authorization authorization) { 11 // is refresh token mode or code mode 12 // ... 13 // is access token mode 14	if (isAccessToken(authorization)) { 15	OAuth2AccessToken accessToken = authorization.</description></item></channel></rss>