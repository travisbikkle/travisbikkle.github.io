<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>vmware on 奇风岁月</title><link>https://travisbikkle.github.io/zh-hant/vmware/</link><description>Recent content in vmware on 奇风岁月</description><generator>Hugo -- gohugo.io</generator><language>zh-hant</language><copyright>Copyright © 2022-{year} Travis Bikkle. All Rights Reserved.</copyright><lastBuildDate>Wed, 06 Mar 2024 17:09:19 +0000</lastBuildDate><atom:link href="https://travisbikkle.github.io/zh-hant/vmware/index.xml" rel="self" type="application/rss+xml"/><item><title>Vmware 死機但是鼠標可以動</title><link>https://travisbikkle.github.io/zh-hant/2024/03/vmware-freeze/</link><pubDate>Wed, 06 Mar 2024 17:09:19 +0000</pubDate><guid>https://travisbikkle.github.io/zh-hant/2024/03/vmware-freeze/</guid><description>問題現象 宿主機 Win11 客戶機 Kubuntu 22.04 vmware vmware workstation pro 17.5 在使用 VSCode 的時候，我的客戶機總是沒有規律的死機，這個時候鼠標可以移動，但是無法點擊。能看出來客戶機並沒有真正的死機。我曾經監控過 /var/log 下面的日誌，以及用 top 監控過系統資源情況，但是沒能發現任何異常。後來在宿主機的虛擬機目錄 vmware.log 中，看到如下一行日誌，才明白髮生了什麼：
12024-03-06T16:33:01.365Z In(05) mks VMMouse: Dropping move received while input queue was full 這是最後一行日誌，非常好發現。這說明客戶機不再接收任何輸入，難怪表現爲好像死機了！
解決方案 我搜索了這個報錯，在 vmware 社區很多年前的一篇文章中找到了如下方法。
config.ini 的位置可能因操作系統不同而不同，請自行搜索位置。 config.ini 修改後保存時可能沒有權限，可以先另存到桌面，然後拖動到原位置。 vmx文件在修改後可能發生錯誤，請先備份該文件。 在 C:\ProgramData\VMware\VMware Workstation\config.ini 添加以下兩行 1prefvmx.useRecommendedLockedMemSize = &amp;#34;TRUE&amp;#34; 2prefvmx.minVmMemPct = &amp;#34;100&amp;#34; 一些遇到鼠標或者鍵盤一直輸入問題，例如 characterrrrrrrrr，可能還需要添加如下兩行（未經驗證） 1mks.disableTypematic = &amp;#34;TRUE&amp;#34; 2mks.disableRemoteClientTypematic = &amp;#34;TRUE&amp;#34; 修改 xxxx.vmx（該文件存在於你的客戶機根目錄，請將 xxxx.vmx 替換爲實際名稱） 1sched.mem.pshare.enable = &amp;#34;FALSE&amp;#34; 2mainMem.useNamedFile = &amp;#34;FALSE&amp;#34; 3MemTrimRate = &amp;#34;0&amp;#34; 4MemAllowAutoScaleDown = &amp;#34;FALSE&amp;#34; 如果問題仍然沒有解決，可以降級到 17.</description></item><item><title>Vmware 中 Intellij Idea 快捷鍵錯誤</title><link>https://travisbikkle.github.io/zh-hant/2023/12/idea-shortkey-error-in-vmware/</link><pubDate>Fri, 01 Dec 2023 11:24:32 +0800</pubDate><guid>https://travisbikkle.github.io/zh-hant/2023/12/idea-shortkey-error-in-vmware/</guid><description>在VMware中，CTRL ALT是默認的將鼠標焦點從虛擬機中移開的熱鍵，這將導致一切在Vmware中運行的虛擬機系統中以該組合鍵 位開頭的熱鍵不可用。比如Intellij Idea的默認後退快捷鍵CTRL ALT LEFT。
一開始我以爲是KDE熱鍵衝突的問題，因爲KDE默認有很多的快捷鍵，但是經過查看KDE的系統設置，並沒有發現熱鍵佔用的情況：
直到我意識到screenkey也沒有提示，這說明我的KDE根本沒有接收到CTRL ALT LEFT按鍵。答案顯而易見，是Vmware的問題了。 爲了防止衝突，在Vmware的 編輯-首選項-熱鍵 中可以將這四個按鍵都勾選上。</description></item><item><title>Vmware Power-ON 腳本啓動失敗</title><link>https://travisbikkle.github.io/zh-hant/2023/11/vmware-poweron-script/</link><pubDate>Thu, 16 Nov 2023 11:24:33 +0800</pubDate><guid>https://travisbikkle.github.io/zh-hant/2023/11/vmware-poweron-script/</guid><description>VMware 的開機腳本位於 /etc/vmware-tools/ 下。如果你的虛擬機報錯啓動客戶機腳本失敗，你可以在虛擬機-電源-開機中開機，然後進入該目錄調試。
如果你的vmware-tools進行過升級，但是升級過程中出現了問題，可能導致腳本沒有正確命名。比如，下面是開機、關機等操作對應的腳本名稱
1poweroff-vm-default 2poweron-vm-default 3resume-vm-default 4suspend-vm-default 5vgauth.conf 而你的機器上可能是
1poweroff-vm-default.dpkg-dist 2poweron-vm-default.dpkg-dist 3resume-vm-default.dpkg-dist 4suspend-vm-default.dpkg-dist 5vgauth.conf.dpkg-dist 那麼請執行以下命令重命名即可
1find /etc/vmware-tools/ -name &amp;#34;*.dpkg-dist&amp;#34; -exec sh -c &amp;#39;x={}; cp &amp;#34;$x&amp;#34; $(echo $x | sed &amp;#39;s/\.dpkg-dist//g&amp;#39;)&amp;#39; \; 另外你還可能需要檢查 /etc/vmware-tools/scripts/vmware 以及各個腳本是否具有可執行權限。</description></item><item><title>Windows Vmware Amd-V 開啓</title><link>https://travisbikkle.github.io/zh-hant/2023/11/win11-vmware-amd-v/</link><pubDate>Tue, 14 Nov 2023 11:24:35 +0800</pubDate><guid>https://travisbikkle.github.io/zh-hant/2023/11/win11-vmware-amd-v/</guid><description>報錯現象 我在 Win 11 中安裝了 Vmware，並在Vmware中安裝了 Kubuntu 22.04 虛擬機。 當我在虛擬機設置的cpu設置中開啓AMD-V的時候，Vmware提示如下錯誤： 起初我並沒有在意，只是感覺虛擬機的性能有些差，直到我在虛擬機中嘗試使用Android Studio附帶的安卓模擬器時，遇到了問題。
無法開啓 AMD-V 或 Intel VT-x 的影響 性能下降
虛擬機的性能將受到限制，因爲它不能充分利用硬件虛擬化擴展，指令執行和內存管理開銷可能增加。 這個性能下降是肉眼可見的，你在點擊、挪動鼠標的時候會感覺到有一種難以察覺的遲滯感，非常難受。
兼容性問題
某些操作系統和應用程序可能無法正常運行或可能出現不穩定的情況。
如果你在虛擬機中開發 Android，你可能無法在虛擬機中再開啓一個模擬器。
安全性問題
虛擬機之間的隔離性可能會下降，從而增加了安全風險。
如何解決 確認你的主板支持 AMD-V 或者 Intel VT-x
現在的主板基本都支持，你需要通過搜索引擎，搜索你的主板該如何確認是否已經開啓該功能。 關閉組策略中的如下設置
在開始菜單中搜索 gpedit，打開組策略編輯器： 在 計算機配置-管理模板-系統-Device Guard 中，雙擊打開 基於虛擬化的安全，設置爲 已禁用： 關閉 Windows 安全中心 中的內存完整性保護
將以下內存完整性的開關關閉，然後重啓系統。 如果你曾經開啓過Hyper-V，還需要在 控制面板-程序和功能-啓用或關閉Windows功能 中，去掉勾選Hyper-V</description></item></channel></rss>