<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Blog on Boy's Life</title><link>https://travisbikkle.github.io/en/</link><description>Recent content in Blog on Boy's Life</description><generator>Hugo -- gohugo.io</generator><language>en</language><lastBuildDate>Sun, 26 Feb 2023 18:24:31 +0800</lastBuildDate><atom:link href="https://travisbikkle.github.io/en/index.xml" rel="self" type="application/rss+xml"/><item><title>使用 cdn 低成本加速网站，或解决443和80端口被封问题</title><link>https://travisbikkle.github.io/en/2024/10/how-to-proxy-with-cdn/</link><pubDate>Fri, 04 Oct 2024 11:24:31 +0800</pubDate><guid>https://travisbikkle.github.io/en/2024/10/how-to-proxy-with-cdn/</guid><description>CDN是个好东西，我们一般需要使用CDN，来让我们的网站能够在全球都能快速访问，并且降低服务器压力，防止DDOS攻击等。
简单来说，你把你的域名的CNAME(如a.example.com) 指向CDN厂商的域名(如abc.cloudfront.net)。
用户访问a.example.com的时候，实际上访问的是abc.cloudfront.net。abc.cloudfront.net上面当然没有你的站点资源，所以会回头访问你配置的源站（这一步叫做回源）拉取资源，并存储到本地（这一步叫做缓存）。
你也可以在站点发布后，第一时间让CDN拉取站点资源，并下发到它位于全球的站点，防止用户在高峰期一窝蜂地访问过来，导致源站压力过大。这一步叫做预热。
用户访问CDN厂商的域名，CDN会分配个给用户最近的站点，这样用户访问的速度也快了。
CDN还支持指定回源的协议和端口，本文后面将会提及，这对使用家庭宽带部署服务并且443和80端口被封锁的用户非常有帮助。
虽然我测试的域名在腾讯云，但是我并没有使用腾讯云的cdn服务，因为在选择试用的时候，腾讯云提示我没有资格。
于是我只测试了cloudflare，aws，阿里云的cdn服务，并在此记录下来过程和配置，希望能够帮助有需要的人。
Cloudflare 右上角点 Add site，增加你的域名，按照推荐的配置即可 将Cloudflare分配的DNS服务器地址增加到域名注册商 无需删除原来的DNS服务器，你的域名可以拥有多个DNS服务器。
Cloudflare会自动检测你的域名是否添加到了指定的DNS服务器，成功后会发送邮件。如果你要手动检测，一个小时最多只能检测一次。
添加成功后，在此处添加DNS记录 如果你的静态页面部署在 Cloudflare，可以直接使用如下配置，将 a.example.com 指向 mypage.pages.dev 如果希望将 *.example.com，比如 a.example.com b.example.com 指向一个自建的服务器
增加这样一条DNS记录：
如果源站的端口不是80和443，比如是1080和1443
增加一条Origin Rule，将80转发到源站的1080
增加一条Origin Rule，将443转发到源站的1443
HTTPS 配置
此处的HTTPS，主要是指CDN和源站之间的通讯。由Cloudflare生成证书，你的源站以该证书启动服务。
如果你的网站只是静态页面，比如个人博客，那么不用配置HTTPS。
在SSL/TLS-Origin Server中，生成源站的证书，并点击下载，将该证书配置到你的服务器（略）。 在SSL/TLS-Overview中，点击Configure，选择Full(Strict)即可。
好了，现在可以使用如下命令，测试 a.example.com 是否被 Cloudflare 代理了
dig a.example.com 阿里云 阿里云的 CDN 服务，现在叫做边缘安全加速ESA（202410）。并且如果你的源站端口不是默认的80和443端口，其中一个必要的步骤，是要提工单才能完成。
假设我们仍然希望将 *.example.com，比如 a.example.com b.example.com 指向一个自建的服务器 gateway.myserver.com:
点击全站分发服务，域名管理，添加域名
这一步骤需要验证 example.com 的域名所有权，按提示操作即可。
在下面新增源站信息中，添加源站，选择你的源站端口80或者443
注意，如果你的源站端口不是80或者443，此处先随便选择一个端口（阿里的界面操作逻辑是比较凌乱的）。
开启自定义端口
在域名管理处，点击配置，在如下两处开启两个配置（自己选择是HTTP还是HTTPS，不要直接看图照搬）
注意，阿里的HTTPS是按次收费的。
此时在基本配置中，编辑源站信息，可以看到可以填写自定义端口了 但是，经过测试，这没什么用，你还要点击右上角的工单，给阿里云的工程师提工单，等待工程师给你开通自定义端口的配置。
我看到阿里云的文档说明，这是一个必要的步骤。我不明白为什么要有提工单才能完成的操作。
所幸工程师们的响应比较快，如果你描述的清楚，半天也能搞定。</description></item><item><title>How to replace the arm of DJI Mavic mini</title><link>https://travisbikkle.github.io/en/2024/09/how-to-replace-dji-mavic-mini-arm/</link><pubDate>Sat, 28 Sep 2024 11:24:31 +0800</pubDate><guid>https://travisbikkle.github.io/en/2024/09/how-to-replace-dji-mavic-mini-arm/</guid><description>My son&amp;rsquo;s drone had broken its front left arm once and had been glued before, so I took advantage of the opportunity to fix it before vacation.
Required tools Screwdriver Plastic crowbar or a bank card Tweezers Soldering iron, solder and rosin Glue and electrical tape may be needed, if you accidentally break something Carefullness and patience Steps Unscrew the upper shell screws
Remove the upper shell by using a crowbar or a bank card.</description></item><item><title>Webview2 Tauri bypass CORS</title><link>https://travisbikkle.github.io/en/2024/08/tauri-bypass-cors/</link><pubDate>Wed, 07 Aug 2024 17:32:12 +0800</pubDate><guid>https://travisbikkle.github.io/en/2024/08/tauri-bypass-cors/</guid><description>item version tauri 2.0.0-rc Prerequisites When you use javascript at foo.com to access bar.com/api, you may encounter an error like the one below (but you are able to access it using curl):
1Access to fetch at &amp;#39;bar.com/api&amp;#39; 2from origin &amp;#39;foo.com&amp;#39; has been blocked by CORS policy: 3No &amp;#39;Access-Control-Allow-Origin&amp;#39; header is present on the requested resource. 4If an opaque response serves your needs, set the request&amp;#39;s mode to &amp;#39;no-cors&amp;#39; to fetch the resource with CORS disabled.</description></item><item><title>Use vue-devtools in tauri</title><link>https://travisbikkle.github.io/en/2024/08/2024-08-05-auri/</link><pubDate>Mon, 05 Aug 2024 16:07:11 +0800</pubDate><guid>https://travisbikkle.github.io/en/2024/08/2024-08-05-auri/</guid><description>Tauri claims itself as an un-opinionated, agnostic desktop application framework that does not depend on a specific front-end framework.
Vue is very popular among developers for its simplicity and ease of use.
Vue Devtools is a small tool that displays the details of a vue program in the browser console.
Today we combine them and demonstrate how to configure Vue Devtools in a new tauri project.
Prerequisites Creating a tauri project, remember to choose vue as the front end framework.</description></item><item><title>Electron Chinese Search</title><link>https://travisbikkle.github.io/en/2024/07/chinese-search/</link><pubDate>Mon, 29 Jul 2024 10:22:28 +0800</pubDate><guid>https://travisbikkle.github.io/en/2024/07/chinese-search/</guid><description>This is a quick demo of how to use js-search, nodejieba to implement Chinese search in Electron.
It&amp;rsquo;s fast, real-time, faster than any other chinese search solutions, fast like never before.
tech version electron 30.0.6 nodejieba 2.6.0 js-search 2.0.1 This article will walk you through a number of issues you may encounter when using npm mirrors and nodejieba in mainland China:
nodejieba package in npmmirror.com does not exist or cannot be downloaded.</description></item><item><title>How to limit request frequency in Java</title><link>https://travisbikkle.github.io/en/2024/07/request-limit/</link><pubDate>Mon, 29 Jul 2024 10:21:11 +0800</pubDate><guid>https://travisbikkle.github.io/en/2024/07/request-limit/</guid><description>Certainly we want to limit the frequency of user visits, because users could get angry, and angry people will click on our app like crazy.
They could also be very bad and use some crawler to try to bring down our server.
So how to do that?
In this article, we use springboot and log the user&amp;rsquo;s information and access frequency into redis, you can also store it into memory or database.</description></item><item><title>Oauth2 Single Login</title><link>https://travisbikkle.github.io/en/2024/07/oauth2-single-login/</link><pubDate>Fri, 19 Jul 2024 10:20:30 +0800</pubDate><guid>https://travisbikkle.github.io/en/2024/07/oauth2-single-login/</guid><description>Sometimes we want users to be able to log in to their accounts on only one device (we&amp;rsquo;re too stingy).
How can we achieve this using springboot security and oauth2?
Note that this article will not take you through the implementation of oauth2 login using spring security, but merely discuss our miserly requirement.
Suppose we have a custom authentication implementation class like this:
1public class RedisOAuth2AuthorizationService implements OAuth2AuthorizationService { 2 3	private final static Long TIMEOUT = 10L; 4 5	private static final String AUTHORIZATION = &amp;#34;token&amp;#34;; 6 7	private final RedisTemplate&amp;lt;String, Object&amp;gt; redisTemplate; 8 9	@Override 10	public void save(OAuth2Authorization authorization) { 11 // is refresh token mode or code mode 12 // .</description></item><item><title>Get User Real Ip</title><link>https://travisbikkle.github.io/en/2024/07/get-user-real-ip/</link><pubDate>Mon, 15 Jul 2024 10:20:57 +0800</pubDate><guid>https://travisbikkle.github.io/en/2024/07/get-user-real-ip/</guid><description>It&amp;rsquo;s a pretty simple question, but in the process of information dissemination, some mistakes happen.
For example, some people will say, just configure X-Real-Ip, and that&amp;rsquo;s it.
Or some people will ask, what is the difference between X-Real-Ip and X-Forward-For, and what is the principle?
Obviously, they misunderstood X-Real-Ip.
This article will show you what X-Real-Ip is.
Quick Answer X-Real-Ip is nothing. You can use My-Real-Ip, His-Real-Ip, whatever.
1server { 2 .</description></item><item><title>Linux Style TitleBar</title><link>https://travisbikkle.github.io/en/2024/07/linux-like-titlebar/</link><pubDate>Fri, 05 Jul 2024 10:21:38 +0800</pubDate><guid>https://travisbikkle.github.io/en/2024/07/linux-like-titlebar/</guid><description>This article will show you how to quickly implement a title bar in Electron that can be rolled up, dragged around, and take you further through the Electron bugs.
Hide the default title bar Change properties in the main.ts(or main.js) where you create the BrowserWindow like below:
1function createWindow() { 2 if (prod) Menu.setApplicationMenu(null); 3 mainWindow = new BrowserWindow({ 4 titleBarStyle: dev ? &amp;#39;default&amp;#39; : &amp;#39;hiddenInset&amp;#39;, 5 titleBarOverlay: true, 6 frame: false, 7 // .</description></item><item><title>Aria2 Rpc</title><link>https://travisbikkle.github.io/en/2024/07/aria2-rpc/</link><pubDate>Mon, 01 Jul 2024 10:18:30 +0800</pubDate><guid>https://travisbikkle.github.io/en/2024/07/aria2-rpc/</guid><description>This article will demonstrate how to develop a download module using aria2 rpc, note that code provided in this article is not a complete application, just to give you some inspiration.
tech version electron 30.0.6 webpack 5.91.0 nodejs v20.14.0 aria2 1.37.0 React 18.2.0 react-use-websocket 4.8.1 @mui/x-charts/SparkLineChart 7.3.2 aria2 docs react-use-websocket docs
Demonstration of the finished project Package and start aria2 How to integrate aria2 into your project You can either ask your users to install aria2c.</description></item><item><title>Electron Source Code Protection</title><link>https://travisbikkle.github.io/en/2024/06/electron-bytecode/</link><pubDate>Sat, 29 Jun 2024 10:15:44 +0800</pubDate><guid>https://travisbikkle.github.io/en/2024/06/electron-bytecode/</guid><description>Here is a quick example to show how to enable byte code protection in your Electron project.
Environment tech version electron 30.0.6 webpack 5.91.0 @herberttn/bytenode-webpack-plugin 2.3.1 nodejs v20.14.0 Steps Webpack Configuration Reference
1// import plugin 2const { BytenodeWebpackPlugin } = require(&amp;#39;@herberttn/bytenode-webpack-plugin&amp;#39;); 3// enable only in production 4const isEnvProduction = process.env.NODE_ENV === &amp;#39;production&amp;#39;; 5... 6plugins: [ 7 isEnvProduction &amp;amp;&amp;amp; new BytenodeWebpackPlugin({ compileForElectron: true }), 8], 9... 10// main，preload，renderer entry. I used webpack-merge, if you didn&amp;#39;t, ignore it.</description></item><item><title>Mocking webpack 5 in 10 minutes</title><link>https://travisbikkle.github.io/en/2024/03/2024-03-15-webpack-react-mock/</link><pubDate>Fri, 15 Mar 2024 11:13:53 +0800</pubDate><guid>https://travisbikkle.github.io/en/2024/03/2024-03-15-webpack-react-mock/</guid><description>No nonsense, let&amp;rsquo;s get straight to the point. I&amp;rsquo;m using webpack 5.90.3 and here is my configuration for mocking.
File structure
1project_root/ 2 |-- webpack.config.js 3 |-- mockserver.js 4 |-- mock/ 5 |-- user.js webpack.config.js
Tip
express.js doesn&amp;rsquo;t bundle with some plugins anymore so you need to run npm i -D body-parser. You will need body-parser to read params from request.
1const webpack = require(&amp;#34;webpack&amp;#34;); 2var bodyParser = require(&amp;#39;body-parser&amp;#39;) 3const mockServer = require(&amp;#34;.</description></item><item><title>Vmware Freeze</title><link>https://travisbikkle.github.io/en/2024/03/vmware-freeze/</link><pubDate>Wed, 06 Mar 2024 17:09:19 +0000</pubDate><guid>https://travisbikkle.github.io/en/2024/03/vmware-freeze/</guid><description>Problem Host OS Win11 Guest OS Kubuntu 22.04 vmware vmware workstation pro 17.5 Every once in a while, my guest os went into a strange freezed state, where I could move the mouse, but the guest os just didn&amp;rsquo;t response. I used to monitor those logs under /var/log, and system resource usage with top command, but nothing was found, until I saw the following line in vmware.log.
12024-03-06T16:33:01.365Z In(05) mks VMMouse: Dropping move received while input queue was full This line was the last in the file, so it&amp;rsquo;s easy to find.</description></item><item><title>Termux Useful Command</title><link>https://travisbikkle.github.io/en/2024/01/termux-useful-command/</link><pubDate>Sat, 27 Jan 2024 16:29:16 +0800</pubDate><guid>https://travisbikkle.github.io/en/2024/01/termux-useful-command/</guid><description>useful termux built-in commands Type termux in the console and press tab, a list of commands starts with termux will show up. Here are some most commonly used commands:
1# change apt repository 2termux-change-repo 3# storage permission 4termux-setup-storage 5# keep awake 6termux-wake-lock copy file from phone 1# storage permission 2termux-setup-storage 3# restart termux and type 4ln -s /sdcard/Download ~/download 5# or below on some phone 6ln -s /sdcard/Downloads ~/download crontab 1# keep awake 2termux-wake-lock 3# install crond &amp;amp; start it 4apt install cronie 5crond 6# add a new crontab entry 7crontab -e 8# type your crontab entry or use https://crontab-generator.</description></item><item><title>Using Algolia with Hugo HBstack theme</title><link>https://travisbikkle.github.io/en/2024/01/hugo-hbstack-algolia/</link><pubDate>Fri, 26 Jan 2024 11:24:23 +0800</pubDate><guid>https://travisbikkle.github.io/en/2024/01/hugo-hbstack-algolia/</guid><description>TL;DR You can not find Hugo template on Algolia cause hugo is based on themes, and each theme uses different css styles.
If you also use hbstack, here is my algolia crawler config you can refer to.
1new Crawler({ 2 appId: &amp;#34;xxxxxxxxx&amp;#34;, // change to your appId 3 apiKey: &amp;#34;xxxxxxxxxx&amp;#34;, // change to your apiKey 4 rateLimit: 8, 5 maxDepth: 10, 6 startUrls: [&amp;#34;https://travisbikkle.github.io/&amp;#34;], 7 // be careful with sitemaps below, it&amp;#39;s related to you multi-lingual config in your hugo.</description></item></channel></rss>