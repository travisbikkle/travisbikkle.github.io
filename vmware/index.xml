<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>vmware on 奇风岁月</title><link>https://travisbikkle.github.io/vmware/</link><description>Recent content in vmware on 奇风岁月</description><generator>Hugo -- gohugo.io</generator><language>zh-hans</language><lastBuildDate>Wed, 06 Mar 2024 17:09:19 +0000</lastBuildDate><atom:link href="https://travisbikkle.github.io/vmware/index.xml" rel="self" type="application/rss+xml"/><item><title>Vmware 死机但是鼠标可以动</title><link>https://travisbikkle.github.io/2024/03/vmware-freeze/</link><pubDate>Wed, 06 Mar 2024 17:09:19 +0000</pubDate><guid>https://travisbikkle.github.io/2024/03/vmware-freeze/</guid><description>问题现象 宿主机 Win11 客户机 Kubuntu 22.04 vmware vmware workstation pro 17.5 在使用 VSCode 的时候，我的客户机总是没有规律的死机，这个时候鼠标可以移动，但是无法点击。能看出来客户机并没有真正的死机。我曾经监控过 /var/log 下面的日志，以及用 top 监控过系统资源情况，但是没能发现任何异常。后来在宿主机的虚拟机目录 vmware.log 中，看到如下一行日志，才明白发生了什么：
12024-03-06T16:33:01.365Z In(05) mks VMMouse: Dropping move received while input queue was full 这是最后一行日志，非常好发现。这说明客户机不再接收任何输入，难怪表现为好像死机了！
解决方案 我搜索了这个报错，在 vmware 社区很多年前的一篇文章中找到了如下方法。
config.ini 的位置可能因操作系统不同而不同，请自行搜索位置。 config.ini 修改后保存时可能没有权限，可以先另存到桌面，然后拖动到原位置。 vmx文件在修改后可能发生错误，请先备份该文件。 在 C:\ProgramData\VMware\VMware Workstation\config.ini 添加以下两行 1prefvmx.useRecommendedLockedMemSize = &amp;#34;TRUE&amp;#34; 2prefvmx.minVmMemPct = &amp;#34;100&amp;#34; 一些遇到鼠标或者键盘一直输入问题，例如 characterrrrrrrrr，可能还需要添加如下两行（未经验证） 1mks.disableTypematic = &amp;#34;TRUE&amp;#34; 2mks.disableRemoteClientTypematic = &amp;#34;TRUE&amp;#34; 修改 xxxx.vmx（该文件存在于你的客户机根目录，请将 xxxx.vmx 替换为实际名称） 1sched.mem.pshare.enable = &amp;#34;FALSE&amp;#34; 2mainMem.useNamedFile = &amp;#34;FALSE&amp;#34; 3MemTrimRate = &amp;#34;0&amp;#34; 4MemAllowAutoScaleDown = &amp;#34;FALSE&amp;#34; 如果问题仍然没有解决，可以降级到 17.</description></item><item><title>Vmware 中 Intellij Idea 快捷键错误</title><link>https://travisbikkle.github.io/2023/12/idea-shortkey-error-in-vmware/</link><pubDate>Fri, 01 Dec 2023 11:24:32 +0800</pubDate><guid>https://travisbikkle.github.io/2023/12/idea-shortkey-error-in-vmware/</guid><description>在VMware中，CTRL ALT是默认的将鼠标焦点从虚拟机中移开的热键，这将导致一切在Vmware中运行的虚拟机系统中以该组合键 位开头的热键不可用。比如Intellij Idea的默认后退快捷键CTRL ALT LEFT。
一开始我以为是KDE热键冲突的问题，因为KDE默认有很多的快捷键，但是经过查看KDE的系统设置，并没有发现热键占用的情况：
直到我意识到screenkey也没有提示，这说明我的KDE根本没有接收到CTRL ALT LEFT按键。答案显而易见，是Vmware的问题了。 为了防止冲突，在Vmware的 编辑-首选项-热键 中可以将这四个按键都勾选上。</description></item><item><title>Vmware Power-ON 脚本启动失败</title><link>https://travisbikkle.github.io/2023/11/vmware-poweron-script/</link><pubDate>Thu, 16 Nov 2023 11:24:33 +0800</pubDate><guid>https://travisbikkle.github.io/2023/11/vmware-poweron-script/</guid><description>VMware 的开机脚本位于 /etc/vmware-tools/ 下。如果你的虚拟机报错启动客户机脚本失败，你可以在虚拟机-电源-开机中开机，然后进入该目录调试。
如果你的vmware-tools进行过升级，但是升级过程中出现了问题，可能导致脚本没有正确命名。比如，下面是开机、关机等操作对应的脚本名称
1poweroff-vm-default 2poweron-vm-default 3resume-vm-default 4suspend-vm-default 5vgauth.conf 而你的机器上可能是
1poweroff-vm-default.dpkg-dist 2poweron-vm-default.dpkg-dist 3resume-vm-default.dpkg-dist 4suspend-vm-default.dpkg-dist 5vgauth.conf.dpkg-dist 那么请执行以下命令重命名即可
1find /etc/vmware-tools/ -name &amp;#34;*.dpkg-dist&amp;#34; -exec sh -c &amp;#39;x={}; cp &amp;#34;$x&amp;#34; $(echo $x | sed &amp;#39;s/\.dpkg-dist//g&amp;#39;)&amp;#39; \; 另外你还可能需要检查 /etc/vmware-tools/scripts/vmware 以及各个脚本是否具有可执行权限。</description></item><item><title>Windows Vmware Amd-V 开启</title><link>https://travisbikkle.github.io/2023/11/win11-vmware-amd-v/</link><pubDate>Tue, 14 Nov 2023 11:24:35 +0800</pubDate><guid>https://travisbikkle.github.io/2023/11/win11-vmware-amd-v/</guid><description>报错现象 我在 Win 11 中安装了 Vmware，并在Vmware中安装了 Kubuntu 22.04 虚拟机。 当我在虚拟机设置的cpu设置中开启AMD-V的时候，Vmware提示如下错误： 起初我并没有在意，只是感觉虚拟机的性能有些差，直到我在虚拟机中尝试使用Android Studio附带的安卓模拟器时，遇到了问题。
无法开启 AMD-V 或 Intel VT-x 的影响 性能下降
虚拟机的性能将受到限制，因为它不能充分利用硬件虚拟化扩展，指令执行和内存管理开销可能增加。 这个性能下降是肉眼可见的，你在点击、挪动鼠标的时候会感觉到有一种难以察觉的迟滞感，非常难受。
兼容性问题
某些操作系统和应用程序可能无法正常运行或可能出现不稳定的情况。
如果你在虚拟机中开发 Android，你可能无法在虚拟机中再开启一个模拟器。
安全性问题
虚拟机之间的隔离性可能会下降，从而增加了安全风险。
如何解决 确认你的主板支持 AMD-V 或者 Intel VT-x
现在的主板基本都支持，你需要通过搜索引擎，搜索你的主板该如何确认是否已经开启该功能。 关闭组策略中的如下设置
在开始菜单中搜索 gpedit，打开组策略编辑器： 在 计算机配置-管理模板-系统-Device Guard 中，双击打开 基于虚拟化的安全，设置为 已禁用： 关闭 Windows 安全中心 中的内存完整性保护
将以下内存完整性的开关关闭，然后重启系统。 如果你曾经开启过Hyper-V，还需要在 控制面板-程序和功能-启用或关闭Windows功能 中，去掉勾选Hyper-V</description></item></channel></rss>